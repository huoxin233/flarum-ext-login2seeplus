(()=>{var o={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},d:(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o:(o,e)=>Object.prototype.hasOwnProperty.call(o,e),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},e={};(()=>{"use strict";o.r(e);const n=flarum.core.compat["common/extend"],t=flarum.core.compat["common/app"];var r=o.n(t);const i=flarum.core.compat["common/components/CommentPost"];var l=o.n(i);const c=flarum.core.compat["common/components/HeaderPrimary"];var a=o.n(c);const s=flarum.core.compat["common/components/LogInModal"];var u=o.n(s);const p=flarum.core.compat["common/components/SignUpModal"];var d=o.n(p);r().initializers.add("jslirola-login2seeplus",(function(){var o,e=150;(0,n.extend)(a().prototype,"oninit",(function(){o=JSON.parse(r().forum.attribute("jslirola.login2seeplus.image")||0)})),(0,n.extend)(l().prototype,"content",(function(n){if(!r().session.user&&!this.isEditing()){var t=n[1].children[0].children;if(o){var i=0;t=t.replace(/<img((.(?!class=))*)\/?>/g,(function(o){var n,t=$(o)[0].src,l=new Image;return l.onload=function(){var o=l.width,n=l.height;o=o>e?o:e,n=n>e?n:e,$(".wlip"+this.counter).width(o),$(".wlip"+this.counter).height(n)},l.counter=i,l.src=t,'<div class="jslirolaLogin2seeplusImgPlaceholder wlip'+i+++'">'+("jslirola-login2seeplus.forum.image",(n=document.createElement("a")).setAttribute("class","l2sp"),n.innerHTML=r().translator.trans("jslirola-login2seeplus.forum.image"),n.outerHTML+"</div>")}))}n[1].children[0]=m.trust(t)}})),(0,n.extend)(l().prototype,"oncreate",(function(){$(".Post-body a.l2sp").off("click").on("click",(function(){return r().modal.show(u())})),$(".jslirolaLogin2seeplusLogin").off("click").on("click",(function(){return r().modal.show(u())})),$(".jslirolaLogin2seeplusRegister").off("click").on("click",(function(){return r().modal.show(d())}))}))}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map